<script src="https://npmcdn.com/es6-promise@3.2.1"></script>
<script src="~/js/powerbi.js"></script>

<div id="reportContainer"></div>

@section scripts
{
    <script>
        var config = {
                type: 'report',
                tokenType: 1,
                accessToken: '@ViewData["EmbedToken"]',
                embedUrl: '@ViewData["EmbedURL"]',
                id: '@ViewData["EmbedId"]',
                permissions: 7,
                settings: {
                    filterPaneEnabled: true,
                    navContentPaneEnabled: true
                }
            };

        //alert("Embed Config=<" + JSON.stringify(config) + ">");

        // Get a reference to the embedded report HTML element
        var reportContainer = $('#reportContainer')[0];

        // Embed the report and display it within the div container.
        var report = powerbi.embed(reportContainer, config);
        //alert("about to end ");
    </script>
}